# Copyright 2025, EOX (https://eox.at) and Versioneer (https://versioneer.at)
# SPDX-License-Identifier: Apache-2.0

---
apiVersion: pkg.internal/v1beta1
kind: Storage
metadata:
  name: s-jeff
spec:
  bucketAccessGrants:
  - bucketName: s-jeff-shared
    grantedAt: "2025-09-29T10:15:00Z"
    grantee: s-joe
    permission: ReadOnly
  bucketAccessRequests:
  - bucketName: s-joe
    reason: Need access
    requestedAt: "2025-09-29T10:10:00Z"
  buckets:
  - bucketName: s-jeff
  - bucketName: s-jeff-shared
    discoverable: true
  credentialsRollover:
    interval: weekly
    maxToKeep: 2
  principal: s-jeff
status:
  conditions:
  - lastTransitionTime: "2024-01-01T00:00:00Z"
    message: 'Unready resources: access-key-s-jeff-2026w02, access-key-s-jeff-2026w03,
      bucket-s-jeff, and 12 more'
    reason: Creating
    status: "False"
    type: Ready
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: AccessKey
metadata:
  annotations:
    crossplane.io/composition-resource-name: access-key-s-jeff-2026w02
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff-2026w02
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    userRef:
      name: s-jeff-2026w02
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
  writeConnectionSecretToRef:
    name: s-jeff-2026w02
    namespace: default
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: AccessKey
metadata:
  annotations:
    crossplane.io/composition-resource-name: access-key-s-jeff-2026w03
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff-2026w03
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    userRef:
      name: s-jeff-2026w03
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
  writeConnectionSecretToRef:
    name: s-jeff-2026w03
    namespace: default
---
apiVersion: s3.aws.m.upbound.io/v1beta1
kind: Bucket
metadata:
  annotations:
    crossplane.io/composition-resource-name: bucket-s-jeff
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    region: eu-central-1
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
---
apiVersion: s3.aws.m.upbound.io/v1beta1
kind: Bucket
metadata:
  annotations:
    crossplane.io/composition-resource-name: bucket-s-jeff-shared
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff-shared
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    region: eu-central-1
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
---
apiVersion: kubernetes.m.crossplane.io/v1alpha1
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: observe-s-jeff-s-joe
  labels:
    crossplane.io/composite: s-jeff
  name: observe-s-jeff-s-joe
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: iam.aws.m.upbound.io/v1beta1
      kind: Policy
      metadata:
        name: s-jeff.s-joe
        namespace: default
  managementPolicies:
  - Observe
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
---
apiVersion: kubernetes.m.crossplane.io/v1alpha1
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: observe-secret-s-jeff
  labels:
    crossplane.io/composite: s-jeff
  name: observe-secret-s-jeff
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: v1
      kind: Secret
      metadata:
        name: s-jeff-2026w03
        namespace: default
  managementPolicies:
  - Observe
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: Policy
metadata:
  annotations:
    crossplane.io/composition-resource-name: policy-s-jeff
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff.s-jeff
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    policy: |-
      {
        "Version": "2012-10-17",
        "Statement": [
          {
            "Effect": "Allow",
            "Action": [
              "s3:*"
            ],
            "Resource": [
              "arn:aws:s3:::s-jeff",
              "arn:aws:s3:::s-jeff/*"
            ]
          }
        ]
      }
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: Policy
metadata:
  annotations:
    crossplane.io/composition-resource-name: policy-s-jeff-shared
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff.s-jeff-shared
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    policy: |-
      {
        "Version": "2012-10-17",
        "Statement": [
          {
            "Effect": "Allow",
            "Action": [
              "s3:*"
            ],
            "Resource": [
              "arn:aws:s3:::s-jeff-shared",
              "arn:aws:s3:::s-jeff-shared/*"
            ]
          }
        ]
      }
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: Policy
metadata:
  annotations:
    crossplane.io/composition-resource-name: policy-s-joe-s-jeff-shared
  labels:
    crossplane.io/composite: s-jeff
  name: s-joe.s-jeff-shared
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    policy: |-
      {
        "Version": "2012-10-17",
        "Statement": [
          {
            "Effect": "Allow",
            "Action": [
              "s3:ListBucket"
            ],
            "Resource": [
              "arn:aws:s3:::s-jeff-shared"
            ]
          },
          {
            "Effect": "Allow",
            "Action": [
              "s3:GetObject"
            ],
            "Resource": [
              "arn:aws:s3:::s-jeff-shared/*"
            ]
          }
        ]
      }
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: UserPolicyAttachment
metadata:
  annotations:
    crossplane.io/composition-resource-name: upa-own-s-jeff-2026w02-s-jeff
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff-2026w02.s-jeff.own
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    policyArnRef:
      name: s-jeff.s-jeff
    userRef:
      name: s-jeff-2026w02
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: UserPolicyAttachment
metadata:
  annotations:
    crossplane.io/composition-resource-name: upa-own-s-jeff-2026w02-s-jeff-shared
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff-2026w02.s-jeff-shared.own
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    policyArnRef:
      name: s-jeff.s-jeff-shared
    userRef:
      name: s-jeff-2026w02
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: UserPolicyAttachment
metadata:
  annotations:
    crossplane.io/composition-resource-name: upa-own-s-jeff-2026w03-s-jeff
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff-2026w03.s-jeff.own
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    policyArnRef:
      name: s-jeff.s-jeff
    userRef:
      name: s-jeff-2026w03
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: UserPolicyAttachment
metadata:
  annotations:
    crossplane.io/composition-resource-name: upa-own-s-jeff-2026w03-s-jeff-shared
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff-2026w03.s-jeff-shared.own
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider:
    policyArnRef:
      name: s-jeff.s-jeff-shared
    userRef:
      name: s-jeff-2026w03
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: User
metadata:
  annotations:
    crossplane.io/composition-resource-name: user-s-jeff-2026w02
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff-2026w02
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider: {}
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: User
metadata:
  annotations:
    crossplane.io/composition-resource-name: user-s-jeff-2026w03
  labels:
    crossplane.io/composite: s-jeff
  name: s-jeff-2026w03
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-jeff
    uid: ""
spec:
  forProvider: {}
  providerConfigRef:
    kind: ProviderConfig
    name: provider-aws
