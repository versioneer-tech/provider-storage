---
apiVersion: pkg.internal/v1beta1
kind: Storage
metadata:
  labels:
    crossplane.io/claim-name: alice-005
    crossplane.io/claim-namespace: default
  name: alice-005
  namespace: storage
spec:
  bucketAccessGrants:
  - bucketName: alice-shared-005
    grantees:
    - bob-005
    permission: ReadOnly
  buckets:
  - bucketName: alice-005
    discoverable: false
  - bucketName: alice-shared-005
    discoverable: true
  owner: alice-005
status:
  conditions:
  - lastTransitionTime: "2024-01-01T00:00:00Z"
    message: 'Unready resources: bucket-alice-005-alice-005, bucket-alice-005-alice-shared-005,
      policy-grant-bob-005-readonly-alice-shared-005, and 3 more'
    reason: Creating
    status: "False"
    type: Ready
---
apiVersion: kubernetes.m.crossplane.io/v1alpha1
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: bucket-alice-005-alice-005
  labels:
    crossplane.io/composite: alice-005
  name: bucket-alice-005
  namespace: storage
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: alice-005
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: minio.crossplane.io/v1
      kind: Bucket
      metadata:
        annotations:
          storages.pkg.internal/discoverable: "false"
        name: alice-005
      spec:
        providerConfigRef:
          name: provider-minio
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
  readiness:
    policy: SuccessfulCreate
  watch: false
---
apiVersion: kubernetes.m.crossplane.io/v1alpha1
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: bucket-alice-005-alice-shared-005
  labels:
    crossplane.io/composite: alice-005
  name: bucket-alice-shared-005
  namespace: storage
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: alice-005
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: minio.crossplane.io/v1
      kind: Bucket
      metadata:
        annotations:
          storages.pkg.internal/discoverable: "true"
        name: alice-shared-005
      spec:
        providerConfigRef:
          name: provider-minio
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
  readiness:
    policy: SuccessfulCreate
  watch: false
---
apiVersion: kubernetes.m.crossplane.io/v1alpha1
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: policy-grant-bob-005-readonly-alice-shared-005
  labels:
    crossplane.io/composite: alice-005
  name: policy-grant-bob-005-readonly-alice-shared-005
  namespace: storage
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: alice-005
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: minio.crossplane.io/v1
      kind: Policy
      metadata:
        name: bob-005.readonly.alice-shared-005
      spec:
        forProvider:
          rawPolicy: |-
            {
              "Version": "2012-10-17",
              "Statement": [
                {
                  "Effect": "Allow",
                  "Action": [
                    "s3:GetBucketLocation",
                    "s3:ListBucket"
                  ],
                  "Resource": [
                    "arn:aws:s3:::alice-shared-005"
                  ]
                },
                {
                  "Effect": "Allow",
                  "Action": [
                    "s3:GetObject"
                  ],
                  "Resource": [
                    "arn:aws:s3:::alice-shared-005/*"
                  ]
                }
              ]
            }
        providerConfigRef:
          name: provider-minio
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
  readiness:
    policy: SuccessfulCreate
  watch: false
---
apiVersion: kubernetes.m.crossplane.io/v1alpha1
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: policy-owner-alice-005-alice-005
  labels:
    crossplane.io/composite: alice-005
  name: policy-owner-alice-005
  namespace: storage
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: alice-005
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: minio.crossplane.io/v1
      kind: Policy
      metadata:
        name: alice-005.owner.alice-005
      spec:
        forProvider:
          rawPolicy: |-
            {
              "Version": "2012-10-17",
              "Statement": [
                {
                  "Effect": "Allow",
                  "Action": [
                    "s3:*"
                  ],
                  "Resource": [
                    "arn:aws:s3:::alice-005",
                    "arn:aws:s3:::alice-005/*"
                  ]
                }
              ]
            }
        providerConfigRef:
          name: provider-minio
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
  readiness:
    policy: SuccessfulCreate
  watch: false
---
apiVersion: kubernetes.m.crossplane.io/v1alpha1
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: policy-owner-alice-005-alice-shared-005
  labels:
    crossplane.io/composite: alice-005
  name: policy-owner-alice-shared-005
  namespace: storage
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: alice-005
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: minio.crossplane.io/v1
      kind: Policy
      metadata:
        name: alice-005.owner.alice-shared-005
      spec:
        forProvider:
          rawPolicy: |-
            {
              "Version": "2012-10-17",
              "Statement": [
                {
                  "Effect": "Allow",
                  "Action": [
                    "s3:*"
                  ],
                  "Resource": [
                    "arn:aws:s3:::alice-shared-005",
                    "arn:aws:s3:::alice-shared-005/*"
                  ]
                }
              ]
            }
        providerConfigRef:
          name: provider-minio
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
  readiness:
    policy: SuccessfulCreate
  watch: false
---
apiVersion: kubernetes.m.crossplane.io/v1alpha1
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: user-alice-005
  labels:
    crossplane.io/composite: alice-005
  name: user-alice-005
  namespace: storage
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: alice-005
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: minio.crossplane.io/v1
      kind: User
      metadata:
        name: alice-005
      spec:
        forProvider:
          policies:
          - alice-005.owner.alice-005
          - alice-005.owner.alice-shared-005
          userName: alice-005
        providerConfigRef:
          name: provider-minio
        writeConnectionSecretToRef:
          name: alice-005
          namespace: storage
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
  readiness:
    policy: SuccessfulCreate
  watch: false
