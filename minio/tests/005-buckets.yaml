# Test if XR is not ready since the resources (buckets, policies, user) are not yet ready
# (examples/observed/005-buckets is empty)
# Test if XR creates expected resource manifests (buckets, policies, user)
apiVersion: epca.eo/v1beta1
kind: XStorage
metadata:
  labels:
    crossplane.io/claim-name: alice-005
    crossplane.io/claim-namespace: default
  name: alice-005
spec:
  owner: alice-005
  buckets:
  - bucketName: alice-005
    discoverable: false
  - bucketName: alice-shared-005
    discoverable: true
  bucketAccessGrants:
  - bucketName: alice-shared-005
    permission: ReadOnly
    grantees:
      - bob-005
