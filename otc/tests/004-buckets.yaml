---
apiVersion: pkg.internal/v1beta1
kind: Storage
metadata:
  name: s-john
spec:
  bucketAccessGrants:
  - bucketName: b-john
    grantee: jane
    permission: WriteOnly
  bucketAccessRequests:
  - bucketName: b-joe
    reason: Need access
  - bucketName: b-jeff
    reason: Need access
  - bucketName: b-jane
    reason: Need access
  buckets:
  - bucketName: b-john
  principal: john
status:
  conditions:
  - lastTransitionTime: "2024-01-01T00:00:00Z"
    message: 'Unready resources: access-key-john, bucket-b-john, observe-john-restricted-b-jane,
      and 4 more'
    reason: Creating
    status: "False"
    type: Ready
---
apiVersion: kubernetes.crossplane.io/v1alpha2
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: access-key-john
  labels:
    crossplane.io/composite: s-john
  name: access-key-john
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-john
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: identity.opentelekomcloud.crossplane.io/v1alpha1
      kind: CredentialV3
      metadata:
        name: john-aksk
      spec:
        forProvider:
          type: AK
          userIdRef:
            name: john
        providerConfigRef:
          name: provider-otc
        writeConnectionSecretToRef:
          name: john
          namespace: default
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
---
apiVersion: kubernetes.crossplane.io/v1alpha2
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: bucket-b-john
  labels:
    crossplane.io/composite: s-john
  name: bucket-b-john
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-john
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: s3.opentelekomcloud.crossplane.io/v1alpha1
      kind: Bucket
      metadata:
        name: b-john
      spec:
        forProvider:
          bucket: b-john
          region: eu-de
        providerConfigRef:
          name: provider-otc
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
---
apiVersion: kubernetes.crossplane.io/v1alpha2
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: observe-john-restricted-b-jane
  labels:
    crossplane.io/composite: s-john
  name: observe-john-restricted-b-jane
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-john
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: s3.opentelekomcloud.crossplane.io/v1alpha1
      kind: BucketPolicy
      metadata:
        name: bucketpolicy-b-jane
  managementPolicies:
  - Observe
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
---
apiVersion: kubernetes.crossplane.io/v1alpha2
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: observe-john-restricted-b-jeff
  labels:
    crossplane.io/composite: s-john
  name: observe-john-restricted-b-jeff
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-john
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: s3.opentelekomcloud.crossplane.io/v1alpha1
      kind: BucketPolicy
      metadata:
        name: bucketpolicy-b-jeff
  managementPolicies:
  - Observe
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
---
apiVersion: kubernetes.crossplane.io/v1alpha2
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: observe-john-restricted-b-joe
  labels:
    crossplane.io/composite: s-john
  name: observe-john-restricted-b-joe
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-john
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: s3.opentelekomcloud.crossplane.io/v1alpha1
      kind: BucketPolicy
      metadata:
        name: bucketpolicy-b-joe
  managementPolicies:
  - Observe
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
---
apiVersion: kubernetes.crossplane.io/v1alpha2
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: observe-user-jane
  labels:
    crossplane.io/composite: s-john
  name: observe-user-jane
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-john
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: identity.opentelekomcloud.crossplane.io/v1alpha1
      kind: UserV3
      metadata:
        name: jane
  managementPolicies:
  - Observe
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
---
apiVersion: kubernetes.crossplane.io/v1alpha2
kind: Object
metadata:
  annotations:
    crossplane.io/composition-resource-name: user-john
  labels:
    crossplane.io/composite: s-john
  name: user-john
  namespace: default
  ownerReferences:
  - apiVersion: pkg.internal/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Storage
    name: s-john
    uid: ""
spec:
  forProvider:
    manifest:
      apiVersion: identity.opentelekomcloud.crossplane.io/v1alpha1
      kind: UserV3
      metadata:
        name: john
      spec:
        forProvider:
          enabled: true
          name: john
        providerConfigRef:
          name: provider-otc
        writeConnectionSecretToRef:
          name: john-user
          namespace: default
  providerConfigRef:
    kind: ProviderConfig
    name: provider-kubernetes
